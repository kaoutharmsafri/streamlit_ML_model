import streamlit as st
import pandas as pd
import joblib
import numpy as np
import streamlit as st
image = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrWomd9b3prDEAoQIj0SZhcBj0RDzOdS25K-lmyZo&s'
link = 'https://github.com/kaoutharmsafri/streamlit_ML_model.git'
st.markdown(f'<a href="{link}"><img src="{image}" width="30px" height="30px"></a>', unsafe_allow_html=True)


st.markdown("""
<style>
    h1 {
        color: #ff4b4b;
        font-size: 36px;
        text-align:center;
    }
    a {
        color: #ff4b4b;
    }
</style>
""", unsafe_allow_html=True)

st.write("""
# Profit prediction from Startup spendings App
This app predicts the **Profit** that a startup can make!
""")
mul_reg=open("multiple_linear_model.pkl","rb")
ml_model=joblib.load(mul_reg)

st.sidebar.header('User Input Parameters')


def user_input_features():
    state = st.sidebar.radio(
    "Select a state :",
    ('New York', 'California', 'Florida'))

    if state == 'New York':
        st.sidebar.write('You selected New York.')
        NewYork = 1.0
        California = 0.0
        Florida = 0.0
    elif state == 'California':
        st.sidebar.write("You selected California.")
        NewYork = 0.0
        California = 1.0
        Florida = 0.0
    elif state == 'Florida':
        st.sidebar.write("You selected Florida.")
        NewYork = 0.0
        California = 0.0
        Florida = 1.0
    RnD_Spend = st.sidebar.number_input('Research and Development Spendings in USD:',key='RnD_Spend')
    Admin_Spend = st.sidebar.number_input('Administration Spendings in USD:',key='Admin_Spend')
    Market_Spend = st.sidebar.number_input('Marketing spendings in USD:',key='Market_Spend')

    data = {'state': state,
            'RnD_Spend': RnD_Spend,
            'Admin_Spend': Admin_Spend,
            'Market_Spend': Market_Spend}
    features = pd.DataFrame(data, index=[0])
    pred_args=[NewYork,California,Florida,RnD_Spend,Admin_Spend,Market_Spend]
    pred_args_arr=np.array(pred_args)
    pred_args_arr=pred_args_arr.reshape(1,-1)
    model_prediction=ml_model.predict(pred_args_arr)
    model_prediction=round(float(model_prediction),2)
    return features,model_prediction

df,prediction = user_input_features()

st.subheader('User Input parameters')
st.write(df)

st.subheader('Prediction')
st.markdown(f'<h1 style="text-align:left;font-size:23px;">{prediction}</h1>', unsafe_allow_html=True)

fsjes = 'data:image/jpeg;base64,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'
uae = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCFN_2P-UdsmY_eg8zDOR7gVgLCv7LmGH4OctnU5UiFg&s'

col1, col2 = st.columns(2)
with col1:
    st.image(uae, width=100)
with col2:
    st.image(fsjes, width=100)
